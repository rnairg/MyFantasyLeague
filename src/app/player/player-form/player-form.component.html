<div class="container" *ngIf="addMode">
  <h1>Add New Player</h1>
  <form #playerForm="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" 
      required
      [(ngModel)]="player.name" name="name" #name="ngModel">
      <div [hidden]="name.valid || name.pristine"
      class="alert alert-danger">
      Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="category">Category</label>
      <input type="text" class="form-control" id="category" 
      required
      [(ngModel)]="player.category" name="category" #category="ngModel">
      <div [hidden]="category.valid || category.pristine"
      class="alert alert-danger">
      Name is required
      </div>
    </div>

    <button (click)="onAdd()"  class="btn btn-success" [disabled]="!playerForm.form.valid">Submit</button>
  </form>
</div>

<div *ngIf="viewMode || editMode">
  <div *ngIf="res">
    <form #playerForm="ngForm">
      <div *ngFor="let res of res.players">
        <h2>Player Details</h2>
        <label for="id">ID</label>
        <input type="text" class="form-control" id="id" 
          required [disabled]=true
          [(ngModel)]="player.id" name="id" #id="ngModel">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" 
          required [disabled]="!editMode"
          [(ngModel)]="player.name" name="name" #name="ngModel">
        <label for="category">Category</label>
        <input type="text" class="form-control" id="category" 
          required [disabled]="!editMode"
          [(ngModel)]="player.category" name="category" #category="ngModel">

        <br>
        <div>
          <button *ngIf="editMode" class="btn btn-success" [disabled]="!playerForm.form.valid" (click)="onSave()">Save</button>
          <button *ngIf="viewMode" class="btn btn-info" (click)="onEdit()">Edit</button>
          <button *ngIf="viewMode" class="btn btn-danger" (click)="onDelete()">Delete</button>
          <button *ngIf="editMode" class="btn btn-warning" (click)="onCancelEdit()">Cancel</button>
        </div>
      </div>  
    </form>
  </div>
</div>
